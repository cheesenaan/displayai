

{% extends 'index.html' %}
{% load static %}


{% block header_links %}
    <a href="{% url 'confirmation' account_id=account.id %}">  Build Page </a>
        <a href="{% url 'account' account_id=account.id %}">  Account </a>
        <a href="{% url 'subscriptions' account_id=account.id %}">  Orders </a>

{% endblock %}


{% block content %}


<style>

/* Dark Theme for Cheesecv Payment Successful Page */

/* General body styles */
body {
    background-color: #121212;
    color: #e0e0e0;
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

/* Header */
h1 {
    color: #f4f4f4;
    text-align: center;
    font-size: 2em;
    margin-top: 40px;
}

/* Table Styling */
.user-info-table {
    width: 60%;
    margin: 30px auto;
    border-collapse: collapse;
    background-color: #1e1e1e;
    border-radius: 8px;
}

.user-info-table td {
    padding: 12px;
    border-bottom: 1px solid #333;
}

.user-info-table tr:nth-child(even) {
    background-color: #2c2c2c;
}

.user-info-table td:first-child {
    color: #b0b0b0;
}

.user-info-table td:last-child {
    color: #fff;
}

/* Button Styling */
button {
    background-color: #6200ea;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #3700b3;
}

.get-now-button {
    display: inline-block;
    background-color: #03dac5;
    padding: 12px 18px;
    border-radius: 4px;
    color: #121212;
    font-weight: bold;
    transition: background-color 0.3s ease;
    text-decoration: none;
}

.get-now-button:hover {
    background-color: #018786;
}

/* Loading Modal */
#loadingModal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    color: #fff;
    z-index: 9999;
    text-align: center;
    padding-top: 20%;
}

#loadingOverlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 9998;
}

/* Pricing Cards */
.pricing-cards {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 40px;
}

.card {
    background-color: #333;
    margin: 15px;
    padding: 20px;
    border-radius: 8px;
    width: 300px;
    text-align: center;
    transition: transform 0.3s ease;
}

.card:hover {
    transform: scale(1.05);
}

.card h2 {
    color: #fff;
    margin-bottom: 10px;
}

.card ul {
    list-style: none;
    padding: 0;
}

.card li {
    color: #bbb;
    font-size: 14px;
    margin-bottom: 8px;
}

.card .price {
    color: #ff4081;
    font-size: 20px;
    margin: 20px 0;
}

.card button {
    background-color: #6200ea;
    padding: 12px 18px;
    border-radius: 4px;
    border: none;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.card button:hover {
    background-color: #3700b3;
}

/* Footer */
footer {
    background-color: #121212;
    color: #fff;
    text-align: center;
    padding: 20px 0;
    margin-top: 40px;
}


    </style>

<h1>{{user_profile.first_name}}, thank you for your Payment</h1>
    <br> <br> 


    <a href="{% url 'reload_resume_and_website' account_id=account.id %}" class="reload_resume_and_website-button" style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%; text-align: center;" onclick="showLoadingModal()">
        <button type="button"> Build Now ! </button>
    </a>

    <table class="user-info-table">
        <tr>
            <td>Your Tier:</td>
            <td>{{account.tier}}</td>
        </tr>
        <tr>
            <td>Total Created on {{account.tier}}:</td>
            <td>{{user_plan.forms_filled_on_current_plan}}</td>
        </tr>
        <tr>
            <td>Total Created on all tiers:</td>
            <td>{{user_plan.total_forms_filled}} </td>
        </tr>
        <tr>
            <td>Remaining:</td>
            <td> <b> {{remaining}} </b> </td>
        </tr>
    </table>
   
   
    
    
    <div id="loadingModal">
        <p id="loadingText"><b>Loading...</b></p>
    </div>
    
    <div id="loadingOverlay"></div>
    
    <script>
        function showLoadingModal() {
            // Show the loading modal and overlay
            document.getElementById("loadingModal").style.display = "block";
            document.getElementById("loadingOverlay").style.display = "block";
    
            // Array of loading messages
            var loadingMessages = [
                "{{account.name}}, welcome to displayai ! ",
                "Requesting displayai AI & data science model  ...",
                "Connecting to cloud environment & creating resume google doc ...",
                "Adding data to personal website & resume",
                "Artificial Intelligence to generate bullets...",
                "Prompt engineering ...",
                "Data Science model to select the optimal bullets ...",
                "Natural Language Processing to make resume ATS friendly...",
                "Model to ensure resume bullets are short, concise ...",
                "Artificial Intelligence to ensure bullets quantification ...",
                "Cleaning bullet data and pushing to profile environment  ...",
                "Personal website ready ! ",
                "Editing google doc permissions ... ",
                "Ensuring account security ... ",
                "Formatting work experiences",
                "Formatting projects",
                "Formatting dates",
                "Saving resume to cloud environment",
                "Saving resume to profile",
                "Updating your account information",
                "Model is running slow due to traffic please be patient ... ",
                "Your internet connection is slowing model please be patient ... ",
                "Checking for errors ... ",
                "Ensuring account security ... ",
                "Model is running slow due to traffic please be patient ... ",
                "Your internet connection is slowing model please be patient ... ",
                "Ensuring account security ... ",
                "Model is running slow due to traffic please be patient ... ",
                "Your internet connection is slowing model please be patient ... ",
                "Ensuring account security ... ",
                "Model is running slow due to traffic please be patient ... ",
                "Your internet connection is slowing model please be patient ... ",
                "Ensuring account security ... ",
                "Your internet is too slow please try again ... ",
                "Your internet is too slow please try again ... ",
                "Your internet is too slow please try again ... ",
                "Your internet is too slow please try again ... ",
                "Your internet is too slow please try again ... ",
                "Your internet is too slow please try again ... ",
            ];
    
            // Function to display loading messages in a loop
            function displayLoadingMessages(index) {
                // Set the loading text
                document.getElementById("loadingText").innerHTML = "<b>" + loadingMessages[index] + "</b>";
    
                // Increment index or reset to 0 if at the end
                index = (index + 1) % loadingMessages.length;
    
                // Set a timeout for the next message
                setTimeout(function () {
                    displayLoadingMessages(index);
                }, 1700); // Adjust the time delay between messages (in milliseconds)
            }
    
            // Start the loop
            displayLoadingMessages(0);
    
            // You can add additional logic or AJAX requests if needed here
        }
    </script>

    <!-- <a href="{% url 'subscriptions' account_id=account.id %}" class="reload_resume_and_website-button">
        <button type="button">  Account subscriptions </button>
    </a> -->


{% endblock %}


<h1>Other Plans</h1>
    
    <form method="post" action="{% url 'confirmation' account_id=account.id %}">
        {% csrf_token %}
        <div class="pricing-cards">
            <div class="card">
                <h2>Free</h2>
                <ul>
                    <li>2 ATS friendly and optimized resumes</li>
                    <li>Bullet points for only one work experience or one project for testing</li>
                    <li>2 personal websites valid for 1 hour</li>
                </ul>
                <p class="price">Free</p>
                <button class="get-now-button">Current</button>
            </div>

            <div class="card">
                <h2>Basic</h2>
                <ul>
                    <li>2 ATS friendly and optimized resumes</li>
                    <li>2 personal websites valid for 6 months</li>
                </ul>
                <p class="price">$9.99</p>
                <button class="get-now-button" name="selected_plan" value="basic">Get Now</button>

            </div>

            <div class="card">
                <h2>Economy</h2>
                <ul>
                    <li>5 ATS friendly and optimized resumes</li>
                    <li>5 personal websites valid for 6 months</li>
                </ul>
                <p class="price">$14.99</p>
                <button class="get-now-button" name="selected_plan" value="economy">Get Now</button>

            </div>

            <div class="card">
                <h2>Business</h2>
                <ul>
                    <li>10 ATS friendly and optimized resumes</li>
                    <li>10 personal websites valid for 6 months</li>
                </ul>
                <p class="price">$19.99</p>
                <button class="get-now-button" name="selected_plan" value="business">Get Now</button>
            </div>

            <div class="card">
                <h2>First Class</h2>
                <ul>
                    <li>50 ATS friendly and optimized resumes</li>
                    <li>50 personal  websites valid for 1 year</li>
                </ul>
                <p class="price">$39.99</p>
                <button class="get-now-button" name="selected_plan" value="first_class">Get Now</button>
            </div>

            <div class="card">
                <h2>Pilot</h2>
                <ul>
                    <li>100 ATS friendly and optimized resumes</li>
                    <li>100 personal websites valid for 1 year</li>
                </ul>
                <p class="price">$99.99</p>
                <button class="get-now-button" name="selected_plan" value="pilot">Get Now</button>
            </div>


            <div class="card">
                <h2>Pilot 2</h2>
                <ul>
                    <li>300 ATS friendly and optimized resumes</li>
                    <li>300 personal websites valid for 6 months</li>
                </ul>
                <p class="price">$199.99</p>
                <button class="get-now-button" name="selected_plan" value="pilot2">Get Now</button>
            </div>

            <div class="card">
                <h2>Custom</h2>
                <ul>
                    <li>Contact sales</li>
                    <li>shf46@rutgers.edu</li>
                </ul>
                <p class="price">Custom</p>
                <button class="get-now-button">Get Now</button>
            </div>

        </div>

    </form>

